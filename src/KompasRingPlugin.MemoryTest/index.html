<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
        <script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
        <script src="chartBuilder.js"></script>
      </head>
  <body>
    <!-- Site content goes here !-->
    <div class="ct-chart ct-minor-seventh">
        <div>
            <p>Затраты оперативной памяти (Гб)</p>
        </div>
        <script>
            
            function getIndexesFromServer() {
                var indexes = [];
                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'http://localhost:3000/indexes', false);
                xhr.send();
                if (xhr.status != 200) {
                    alert( xhr.status + ': ' + xhr.statusText );
                } else {
                    indexes = xhr.responseText;
                }
                return indexes;
            }

            function getMemoryUsageFromServer() {
                var memoryUsage = [];
                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'http://localhost:3000/memoryUsage', false);
                xhr.send();
                if (xhr.status != 200) {
                    alert( xhr.status + ': ' + xhr.statusText );
                } else {
                    memoryUsage = xhr.responseText;
                }
                return memoryUsage;
            }
            // var i = 0;
            // var labels = [];
            // var series = [];
            // while(i < 200) //
            // {
            //     labels.push(i);
            //     series.push(Math.random());
            //     i++;
            // }
            

            var data = {
                // Массив меток, который содержит любые значения
                labels: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87],
                // Наш массив может содержать серию объектов или серии массивов с данными
                series: [
                [ 471183360, 510701568, 529272832, 707129344, 996937728, 1350070272, 1734950912, 2019299328, 2385731584, 2785357824, 3036823552, 3270717440, 3508338688, 3552382976, 3569041408, 3808018432, 3837079552, 3745411072, 3976871936, 4323950592, 4694978560, 4684214272, 4946563072, 4929957888, 5255348224, 5394616320, 5549039616, 5591429120, 5920686080, 6168977408, 6163718144, 5977706496, 6298492928, 5878259712, 6269562880, 6601420800, 6520094720, 6523281408, 6718304256, 6788362240, 6735806464, 6751027200, 6833324032, 6597079040, 6811041792, 6814162944, 6825041920, 6902898688, 6818668544, 6925275136, 6552903680, 6878212096, 6617333760, 6787612672, 6761455616, 6767009792, 6879809536, 6170447872, 6552760320, 6761451520, 6920519680, 6757003264, 6675357696, 6778855424, 6378622976, 6548148224, 6652559360, 6581841920, 6476075008, 6788775936, 6929096704, 7229001728, 7404261376, 6819856384, 7179280384, 7539437568, 7867224064, 8047493120, 7628738560, 7599542272, 7584169984, 7589294080, 7549939712, 7770652672, 7663865856, 7503417344, 7511609344]
                ]
            };

            var options = {
                    width: 1400,
                    height: 700,
                    showPoint: false,
                    lineSmooth: true,
                    showArea: false,
                    showLine: true,
                    axisX: {
                        showGrid: false,
                        showLabel: true,
                        labelInterpolationFnc: function(value, index) {
                            return index % 10 === 0 ? value : null;
                        },
                        offset: 50
                    },
                    axisY: {
                        showGrid: true,
                        showLabel: true,
                        offset: 40
                    },
                };
    
        // Создаем объект линейного графика с первым параметров - селектором.
        // Второй параметр - объект с данными
        var chart = new Chartist.Line('.ct-chart', data, options);
        </script>
        <div style="float: right;  margin-left: 5px; margin-right: 180px; margin-top: 630px;">
            <p>Количество деталей</p>
        </div>
    </div>
    <script src="bower_components/chartist/dist/chartist.min.js"></script>
  </body>
</html>